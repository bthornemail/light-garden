<?xml version="1.0" encoding="UTF-8"?>
<svg width="600" height="700" viewBox="0 0 600 700" xmlns="http://www.w3.org/2000/svg" id="dome-svg">
  <defs>
    <style>
      .pole { stroke: #333; stroke-width: 1; }
      .band { fill: none; stroke: #444; stroke-dasharray: 3 3; }
      .led { cursor: pointer; transition: all 0.2s; }
      .led:hover { filter: brightness(1.5); r: 6; }
      .led-label { font-family: monospace; font-size: 7px; fill: #555; }
      .dome-arc { fill: none; stroke: #555; stroke-dasharray: 2 2; opacity: 0.5; }
      .center-led { stroke: #fff; stroke-width: 1; }
    </style>
  </defs>
  
  <rect width="600" height="700" fill="#0a0a0a"/>
  
  <!-- Title -->
  <text x="300" y="30" text-anchor="middle" fill="#8f00ff" font-family="monospace" font-size="14">HEXAGONAL DOME</text>
  
  <!-- 3D View (isometric projection) -->
  <g transform="translate(300, 350)">
    
    <!-- Hexagon base (floor) -->
    <polygon points="0,-111 96.2,-55.5 96.2,55.5 0,111 -96.2,55.5 -96.2,-55.5" 
             fill="none" stroke="#444" stroke-width="2"/>
    
    <!-- Harmonic bands (ellipses) -->
    <ellipse cx="0" cy="-133" rx="111" ry="55.5" class="band" stroke="#666"/>
    <ellipse cx="0" cy="-111" rx="96.2" ry="48.1" class="band"/>
    <ellipse cx="0" cy="-89" rx="81.3" ry="40.7" class="band"/>
    <ellipse cx="0" cy="-67" rx="66.5" ry="33.3" class="band"/>
    <ellipse cx="0" cy="-44" rx="51.6" ry="25.8" class="band"/>
    <ellipse cx="0" cy="-22" rx="36.8" ry="18.4" class="band"/>
    
    <!-- Dome arcs -->
    <path d="M -96,-55 Q 0,-200 96,-55" class="dome-arc"/>
    <path d="M -80,-80 Q 0,-180 80,-80" class="dome-arc"/>
    <path d="M -64,-96 Q 0,-160 64,-96" class="dome-arc"/>
    <path d="M -48,-108 Q 0,-140 48,-108" class="dome-arc"/>
    <path d="M -32,-114 Q 0,-125 32,-114" class="dome-arc"/>
    
    <!-- POLE 1 (front) -->
    <g id="pole1">
      <line x1="0" y1="-111" x2="0" y2="-222" class="pole"/>
      <circle cx="0" cy="-111" r="4" fill="#ff0000" class="led" data-pole="1" data-band="1" data-fano="1"/>
      <circle cx="0" cy="-133" r="4" fill="#ff8800" class="led" data-pole="1" data-band="2" data-fano="2"/>
      <circle cx="0" cy="-155" r="4" fill="#ffff00" class="led" data-pole="1" data-band="3" data-fano="3"/>
      <circle cx="0" cy="-178" r="4" fill="#00ff00" class="led" data-pole="1" data-band="4" data-fano="4"/>
      <circle cx="0" cy="-222" r="4" fill="#0000ff" class="led" data-pole="1" data-band="5" data-fano="5"/>
    </g>
    
    <!-- POLE 2 (front-right) -->
    <g id="pole2">
      <line x1="48" y1="-111" x2="48" y2="-222" class="pole"/>
      <circle cx="48" cy="-111" r="4" fill="#0000ff" class="led" data-pole="2" data-band="1" data-fano="5"/>
      <circle cx="48" cy="-133" r="4" fill="#ff0000" class="led" data-pole="2" data-band="2" data-fano="1"/>
      <circle cx="48" cy="-155" r="4" fill="#ff8800" class="led" data-pole="2" data-band="3" data-fano="2"/>
      <circle cx="48" cy="-178" r="4" fill="#ffff00" class="led" data-pole="2" data-band="4" data-fano="3"/>
      <circle cx="48" cy="-222" r="4" fill="#00ff00" class="led" data-pole="2" data-band="5" data-fano="4"/>
    </g>
    
    <!-- POLE 3 (back-right) -->
    <g id="pole3">
      <line x1="48" y1="-55.5" x2="48" y2="-166.5" class="pole"/>
      <circle cx="48" cy="-55.5" r="4" fill="#00ff00" class="led" data-pole="3" data-band="1" data-fano="4"/>
      <circle cx="48" cy="-77.5" r="4" fill="#0000ff" class="led" data-pole="3" data-band="2" data-fano="5"/>
      <circle cx="48" cy="-99.5" r="4" fill="#ff0000" class="led" data-pole="3" data-band="3" data-fano="1"/>
      <circle cx="48" cy="-122.5" r="4" fill="#ff8800" class="led" data-pole="3" data-band="4" data-fano="2"/>
      <circle cx="48" cy="-166.5" r="4" fill="#ffff00" class="led" data-pole="3" data-band="5" data-fano="3"/>
    </g>
    
    <!-- POLE 4 (back) -->
    <g id="pole4">
      <line x1="0" y1="-55.5" x2="0" y2="-166.5" class="pole"/>
      <circle cx="0" cy="-55.5" r="4" fill="#ffff00" class="led" data-pole="4" data-band="1" data-fano="3"/>
      <circle cx="0" cy="-77.5" r="4" fill="#00ff00" class="led" data-pole="4" data-band="2" data-fano="4"/>
      <circle cx="0" cy="-99.5" r="4" fill="#0000ff" class="led" data-pole="4" data-band="3" data-fano="5"/>
      <circle cx="0" cy="-122.5" r="4" fill="#ff0000" class="led" data-pole="4" data-band="4" data-fano="1"/>
      <circle cx="0" cy="-166.5" r="4" fill="#ff8800" class="led" data-pole="4" data-band="5" data-fano="2"/>
    </g>
    
    <!-- POLE 5 (back-left) -->
    <g id="pole5">
      <line x1="-48" y1="-55.5" x2="-48" y2="-166.5" class="pole"/>
      <circle cx="-48" cy="-55.5" r="4" fill="#ff8800" class="led" data-pole="5" data-band="1" data-fano="2"/>
      <circle cx="-48" cy="-77.5" r="4" fill="#ffff00" class="led" data-pole="5" data-band="2" data-fano="3"/>
      <circle cx="-48" cy="-99.5" r="4" fill="#00ff00" class="led" data-pole="5" data-band="3" data-fano="4"/>
      <circle cx="-48" cy="-122.5" r="4" fill="#0000ff" class="led" data-pole="5" data-band="4" data-fano="5"/>
      <circle cx="-48" cy="-166.5" r="4" fill="#ff0000" class="led" data-pole="5" data-band="5" data-fano="1"/>
    </g>
    
    <!-- POLE 6 (front-left) -->
    <g id="pole6">
      <line x1="-48" y1="-111" x2="-48" y2="-222" class="pole"/>
      <circle cx="-48" cy="-111" r="4" fill="#4b0082" class="led" data-pole="6" data-band="1" data-fano="6"/>
      <circle cx="-48" cy="-133" r="4" fill="#8f00ff" class="led" data-pole="6" data-band="2" data-fano="7"/>
      <circle cx="-48" cy="-155" r="4" fill="#ff0000" class="led" data-pole="6" data-band="3" data-fano="1"/>
      <circle cx="-48" cy="-178" r="4" fill="#ff8800" class="led" data-pole="6" data-band="4" data-fano="2"/>
      <circle cx="-48" cy="-222" r="4" fill="#ffff00" class="led" data-pole="6" data-band="5" data-fano="3"/>
    </g>
    
    <!-- Center Floor LED (Genesis Gate) -->
    <circle cx="0" cy="-111" r="8" fill="#8f00ff" class="led center-led" 
            data-pole="0" data-band="0" data-fano="7" data-id="genesis-gate"/>
    <text x="0" y="-128" text-anchor="middle" class="led-label">GENESIS</text>
    
    <!-- Center Ceiling LED (Observer) -->
    <circle cx="0" cy="-222" r="8" fill="#ffffff" class="led center-led" 
            data-pole="0" data-band="6" data-fano="8" data-id="observer"/>
    <text x="0" y="-240" text-anchor="middle" class="led-label">OBSERVER</text>
    
    <!-- Dome LEDs (simplified geodesic) -->
    <g id="dome-leds">
      <!-- Ring 1 -->
      <circle cx="0" cy="-150" r="3" fill="#ff6666" class="led" data-ring="dome"/>
      <circle cx="25" cy="-145" r="3" fill="#ff9966" class="led" data-ring="dome"/>
      <circle cx="50" cy="-130" r="3" fill="#ffcc66" class="led" data-ring="dome"/>
      <circle cx="50" cy="-110" r="3" fill="#ffff66" class="led" data-ring="dome"/>
      <circle cx="25" cy="-95" r="3" fill="#66ff66" class="led" data-ring="dome"/>
      <circle cx="0" cy="-90" r="3" fill="#66ccff" class="led" data-ring="dome"/>
      <circle cx="-25" cy="-95" r="3" fill="#6666ff" class="led" data-ring="dome"/>
      <circle cx="-50" cy="-110" r="3" fill="#9966ff" class="led" data-ring="dome"/>
      <circle cx="-50" cy="-130" r="3" fill="#cc66ff" class="led" data-ring="dome"/>
      <circle cx="-25" cy="-145" r="3" fill="#ff66ff" class="led" data-ring="dome"/>
      
      <!-- Ring 2 -->
      <circle cx="0" cy="-170" r="3" fill="#ff4444" class="led" data-ring="dome"/>
      <circle cx="30" cy="-165" r="3" fill="#ff8844" class="led" data-ring="dome"/>
      <circle cx="60" cy="-150" r="3" fill="#ffcc44" class="led" data-ring="dome"/>
      <circle cx="75" cy="-125" r="3" fill="#ffff44" class="led" data-ring="dome"/>
      <circle cx="60" cy="-100" r="3" fill="#88ff44" class="led" data-ring="dome"/>
      <circle cx="30" cy="-85" r="3" fill="#44ff44" class="led" data-ring="dome"/>
      <circle cx="0" cy="-80" r="3" fill="#44ff88" class="led" data-ring="dome"/>
      <circle cx="-30" cy="-85" r="3" fill="#44ffcc" class="led" data-ring="dome"/>
      <circle cx="-60" cy="-100" r="3" fill="#44ffff" class="led" data-ring="dome"/>
      <circle cx="-75" cy="-125" r="3" fill="#44ccff" class="led" data-ring="dome"/>
      <circle cx="-60" cy="-150" r="3" fill="#4488ff" class="led" data-ring="dome"/>
      <circle cx="-30" cy="-165" r="3" fill="#4444ff" class="led" data-ring="dome"/>
    </g>
  </g>
  
  <!-- Legend -->
  <g transform="translate(20, 580)">
    <text x="0" y="0" fill="#666" font-family="monospace" font-size="10">POLES:</text>
    <circle cx="15" cy="15" r="4" fill="#ff0000"/><text x="25" y="19" fill="#888" font-size="8">1</text>
    <circle cx="45" cy="15" r="4" fill="#0000ff"/><text x="55" y="19" fill="#888" font-size="8">2</text>
    <circle cx="75" cy="15" r="4" fill="#00ff00"/><text x="85" y="19" fill="#888" font-size="8">3</text>
    <circle cx="105" cy="15" r="4" fill="#ffff00"/><text x="115" y="19" fill="#888" font-size="8">4</text>
    <circle cx="135" cy="15" r="4" fill="#ff8800"/><text x="145" y="19" fill="#888" font-size="8">5</text>
    <circle cx="165" cy="15" r="4" fill="#4b0082"/><text x="175" y="19" fill="#888" font-size="8">6</text>
  </g>
  
  <g transform="translate(20, 610)">
    <text x="0" y="0" fill="#666" font-family="monospace" font-size="10">FANO:</text>
    <circle cx="15" cy="15" r="4" fill="#ff0000"/><text x="25" y="19" fill="#888" font-size="8">1 Metatron</text>
    <circle cx="100" cy="15" r="4" fill="#ff8800"/><text x="110" y="19" fill="#888" font-size="8">2</text>
    <circle cx="15" cy="30" r="4" fill="#ffff00"/><text x="25" y="34" fill="#888" font-size="8">3 Solon</text>
    <circle cx="100" cy="30" r="4" fill="#00ff00"/><text x="110" y="34" fill="#888" font-size="8">4</text>
    <circle cx="15" cy="45" r="4" fill="#0000ff"/><text x="25" y="49" fill="#888" font-size="8">5 Enoch</text>
    <circle cx="100" cy="45" r="4" fill="#4b0082"/><text x="110" y="49" fill="#888" font-size="8">6</text>
    <circle cx="15" cy="60" r="4" fill="#8f00ff"/><text x="25" y="64" fill="#888" font-size="8">7 Genesis</text>
    <circle cx="100" cy="60" r="4" fill="#ffffff"/><text x="110" y="64" fill="#888" font-size="8">8 Observer</text>
  </g>
  
  <!-- Interactive script -->
  <script type="text/javascript">
    <![CDATA[
      document.addEventListener('DOMContentLoaded', function() {
        const leds = document.querySelectorAll('.led');
        
        leds.forEach(led => {
          led.addEventListener('click', function(e) {
            const pole = this.getAttribute('data-pole');
            const band = this.getAttribute('data-band');
            const fano = this.getAttribute('data-fano');
            const id = this.getAttribute('data-id');
            
            const path = id ? 
              (id === 'genesis-gate' ? "m/240'/0'/0'/7'" : "m/240'/0'/1'/8'") :
              `m/240'/${pole}'/${band}'/${fano}'`;
            
            const event = new CustomEvent('domeElementClick', {
              detail: {
                type: 'dome-led',
                path: path,
                pole: pole,
                band: band,
                fano: fano,
                id: id,
                timestamp: Date.now()
              }
            });
            window.parent.dispatchEvent(event);
            
            const originalR = this.getAttribute('r');
            this.setAttribute('r', parseFloat(originalR) * 1.5);
            setTimeout(() => this.setAttribute('r', originalR), 150);
          });
        });
      });
    ]]>
  </script>
</svg>
